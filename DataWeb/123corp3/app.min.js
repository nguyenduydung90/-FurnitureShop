var is_ajx_busy=false;function addtoCart(e,url,p,a,o){if(is_ajx_busy===true){alert("busy");return false;}is_ajx_busy=true;if(p===false||p===""){$.notify({title:"<i class='icon remove'></i>",message:"Sản phẩm không tồn tại.!"},{type:"danger"});return false;}q=parseInt($(".field .txt-quantity").val())||1;if(isNaN(q)&&q<=0){$.notify({title:"<i class='icon remove'></i>",message:"Số lượng không hợp lệ.!"},{type:"warning"});$(".field .txt-quantity").focus();return false;}$.ajax({url:location.origin+'/ajx/ajx.php',type:'GET',dataType:'json',data:{act:"addCart",a:a,o:o,p:p,q:q},}).done(function(re){url=url!==undefined?url:base_url_shop+"/carts";if(re.status=="success")location.href=url;else $.notify({title:"<i class='icon remove'></i>",message:"Lỗi không xác định.!"},{type:"danger"});is_ajx_busy=false;});}function toggleWishList(e,p){if(is_ajx_busy===true)return false;is_ajx_busy=true;var $el=$(e.target).hasClass("btnwishlist")?$(e.target):$(e.target).closest(".addwishlist");if(p===undefined){$.notify({title:"<i class='icon remove'></i>",message:"System error .!"},{type:"warning"});return;}$.get(location.origin+'/ajx/ajx.php?act=addToWishList&p='+p,function(res){res=JSON.parse(res);if(res.status=="login_fail"){location.href="http://demo01.123corp.com.vn/login";}else{if(res.status=="addsuccess"){$el.find("http://demo01.123corp.com.vn/furniture/js/i.icon").addClass("red");$el.find("http://demo01.123corp.com.vn/furniture/js/i.icon").removeClass("outline");}if(res.status=="resuccess"){$el.find("http://demo01.123corp.com.vn/furniture/js/i.icon").removeClass("red");$el.find("http://demo01.123corp.com.vn/furniture/js/i.icon").addClass("outline");}$el.find("span.datalike").html(res.datalike);$.notify({title:"<i class='icon checkmark'></i>",message:res.message},{type:"success"});}is_ajx_busy=false;});}function toogleRating(value,p,$el){if(value===undefined||p===undefined){$.notify({title:"<i class='icon remove'></i>",message:"System error .!"},{type:"warning"});return;}$.get(location.origin+"/ajx/ajx.php?act=rating&value="+value+"&p="+p,function(res){try{res=JSON.parse(res);if(res.status=="login_fail")location.href="http://demo01.123corp.com.vn/login";else
$el.next(".rank").text(res.value);}catch(e){}});}function search(url){location.href="http://demo01.123corp.com.vn/search/"+url;}function text_animate($el,ev){switch(ev){case"Initialized":var text_content_all=$el.find('.owl-item.active .text-content');break;case"changed":var text_content_all=$el.find('.owl-item:not(.active):not(.cloned) .text-content');break;}text_content_all.find('.inner >.run-animate').each(function(){var data_animation_duration=$(this).attr('data-animation-duration');var data_animation_delay=$(this).attr('data-animation-delay');var data_animated=$(this).attr('data-animated');if(data_animated!==''){var css_data_animation_duration='';var css_data_animation_delay='';if(data_animation_duration!==''){css_data_animation_duration='-webkit-animation-duration: '+data_animation_duration+'s;';}if(data_animation_delay!==''){css_data_animation_delay='-webkit-animation-delay: '+data_animation_delay+'s;';}$(this).attr('style',css_data_animation_duration+css_data_animation_delay);$(this).addClass('animated');$(this).addClass(data_animated);$(this).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',function(){$(this).removeClass('animated');$(this).removeClass(data_animated);});}});}$(function(){$(document).ajaxStart(function(){$(".ajx-loaded").addClass("loading");});$(document).ajaxStop((function(){$(".ajx-loaded").removeClass("loading");}));$('.ui.rating:not(.autooff)').rating({initialRating:1,maxRating:5});$('.wm-dimmer').dimmer({on:'hover'});$('.ui.dropdown:not(.autooff)').dropdown({on:"hover"});$('.ui.radio.checkbox:not(.autooff)').checkbox();$('.ui.tabs.menu:not(.autooff) .item').tab();if(typeof list_pros_tabs!="undefined"){$.each(list_pros_tabs,function(index,val){$("."+val+" .item").tab();});}$('.popup:not(.autooff)').popup();$('.btn-modal:not(.autooff)').click(function(e){e.preventDefault();$.get($(this).attr('href'),function(data){$('#modal-small-custom').html(data);$('#modal-small-custom').modal('show');});});$(".wm-module.wm-menu a.toggle-search").on("click",function(){$(".search-menu-widget").toggleClass("hide");$(".search-menu-widget input").focus();});$(document).mouseup(function(e){var $targ=$(e.target);if($targ.is('.wm-module.wm-menu a.toggle-search i')||$targ.is('.wm-module.wm-menu a.toggle-search')||$targ.is('.search-menu-widget input'))return false;$(".search-menu-widget").addClass("hide");});});